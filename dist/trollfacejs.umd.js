!function(t){"function"==typeof define&&define.amd?define(t):t()}(function(){var t,e,r,n="trollfacejs-v0.0.1";"undefined"!=typeof window&&(window.trollfacejs=(t=null,e=null,r=null,function(){try{return Promise.resolve(function(t,e){try{var r=window.localStorage.getItem(n)||Promise.resolve(fetch("https://raw.githubusercontent.com/nlswtlr/trollfacejs/master/src/assets/trollface.txt")).then(function(t){return Promise.resolve(t.text()).then(function(t){return window.localStorage.setItem(n,t),t})})}catch(t){return e(t)}return r&&r.then?r.then(void 0,e):r}(0,function(t){console.log(t)}))}catch(t){return Promise.reject(t)}}().then(function(t){r=t}).catch(function(t){return console.error(t)}),{start:function(){var n,o,a,l;(n=document.querySelector("body"))||console.error("could not find that body - wtf?!"),document.querySelector("#thetrollface")&&console.error("trollface is already attached!"),r||console.error("trollface was not fetch yet - lulz"),n.insertAdjacentHTML("beforeend",r),e=document.querySelector("#thetrollface"),o={position:"fixed",left:0,bottom:0,transform:{translate3d:{x:0,y:50}},opacity:1},l="right",(a=null)||(a=o),t=requestAnimationFrame(function r(){var n,i,c=e.getBoundingClientRect(),s=(i=a.transform.translate3d.x+c.width,"right"===(n=l)&&i>=window.innerWidth?"left":"left"===n&&i<=200?"right":n);o.transform.translate3d.x="left"===(l=s)?a.transform.translate3d.x-18:a.transform.translate3d.x+18;var f={position:""+o.position,left:o.left+"px",bottom:""+o.bottom,transform:"translate3d("+o.transform.translate3d.x+"px,"+o.transform.translate3d.y+"%,0)",opacity:""+o.opacity};for(var u in f)e.style[u]=f[u];a=o,t=requestAnimationFrame(r)})},stop:function(){cancelAnimationFrame(t),e.remove()}}))});
